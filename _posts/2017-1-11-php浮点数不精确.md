在计算机中,存储是有字节限制的

对于一个 小数在 10 进制下,是有限的,转成 2 进制要 无限循环,必定是要舍去一部分的.

因此, 损失一些 精度,导致 浮点数计算 和数学上结果不一致.

    if ((0.1+0.2) == 0.3) {
    echo 'eq';
    } else {
    echo 'neq';  //neq
    }
    

银行一般都存整数,精确到分

整数既不会产生精度损失,且计算较快   


浮点数运算的不精确性可以产生灾难性的后果. 1991 年 2 月 25 日,在海湾战争期间,沙特阿拉

伯达摩地区设置的美国爱国者导弹,拦截伊拉克的飞毛腿导弹失败.

飞毛腿击中美国一个兵营,造成 28 名美国士兵死亡. 美国总审计局(GAO)对失败原因做了详细的分析,并且确定了,一个潜在的原因在于一个数字计算不精确.

在这个作业中,你将重现审计局的相关工作.

爱国者导弹系统中,有一个内置的时钟,实现一个计数器,每 0.1 秒就加 1. 为了以秒为单位来确定时间,程序用一个 24 位近似于 1/10 的 2 进制小数值来乘以计数器的值.

特别地:0.1 转成 2 进制序列是无序序列 0.000110011[0011]..2 进制.

问: 当系统初始启动时,时钟从 0 开始,并且保持计数,在这个例子中,系统已经运行了约 100 个
小时, 程序计算的时间和实际时间相差了多少?

问: 系统根据一枚来袭的导弹的速率和它最后被雷达侦测到的时间,来预测他将在哪里出现.

假定飞毛腿的速率约为 200 米/秒,对它的距离预测偏差了多少 

答案：

	   	$n=0;
    	$m=100*3600*200;
    	for ($i=0/10; $i <= (100*3600) ; $i++) { 
    		# code...
    		$n=$n+1;
    	}
    	echo ($n/3600-100)."<br/>"; //相差0.00027777777778226秒
    	echo $n*200-$m; // 相差200米




## 逻辑运算的短路特性与运算符优先级 ##

&& 的短路

验证一下 逻辑运算 && 的短路特性

短路 当能够判断表达式的结果时,后面的表达式不执行

    $house = true;
    $car = false;
    $a = 1;
    $car && ($a = 5);
    echo $a;  // 输出5
    $house && ($a = 8);
    echo $a; //还是输出 5


|| 的短路

	$house=true;
	$car=false;
	$b = 2;
	$house || ($b = 10);
	echo $b; //输出2

	$house=true;
	$car=false;
	$b = 2;
	$car || ($b = 5);
	echo $b; // 输出5

利用短路特性

在某些场合中,可以 把我们的代码写的 简洁 优美

验证一下逻辑 || 运算的短路特性

    define('ROOT' , dirname(__DIR__));
    if(!defined('ROOT')) {
    define('ROOT' , dirname(__DIR__));
    }



可以简化为：

    defined('ROOT') || define('ROOT',dirname(__DIR__));
    echo ROOT;


定义过root 或 定义 root=dirname(_DIR_) ,这样满足后者，就能直接输出

= 的优先级是最低的,它没有||高

	$a=3;
	$b=5;
	if ($a=5 || $b= 7) {
		# code...
		$a++;
		$b++;
	}
	echo $a.$b;  // 输出1,6

因为||的优先级大于=，所以$a$b作= 号运算是 低于 ||,所以第一步是 5||$b, 5||$b 是等于true ，所以 再 $a= true ，那么$a++ =true+1=true=1 ，$b=5，$b++就等于6


