事务的特性

隔离性,原子性,一致性,持久性

引擎要选 innodb,因为myisam不支持事务

start transaction 这是用来打开窗口查看事务状态

看不到事务的中间状态,只能看到事务的开始前的状态,和结束后的状态,这个叫做事务的隔离性;

事物的原子性

commite之后,事务就结束了

如果再想使用事务,需要重新 start transaction;

结果在commit之前,想撤销借出的钱

需要用到:回滚 rollback;


我们开启事务之后,不论将数据改的多乱,只要rollback 回滚,数据就全部回到了事务之前,要是一提交,commit,就全部来到了事务之后,半道如果有一个语句

没有执行成功,断电了,只要回滚,数据即可恢复到事务开启之前.这个体现了事务的原子性和隔离性
事务的一致性如何体现?

一致性指的是事务的之前和之后,它的业务逻辑上保持总体的一致

但是mysql它有几种语句的模式,有时候检测不是很严格,它存在一个语句检测模式问题

我们如果用严格模式,它超出存储范围,不能运行

如果采用的sql_mod,不是很严格,这句话是能够执行的

事务的一致性,指的就是事务前后的数据应该有保持一致性

事务的持久性

指的是,一旦commit之后,是无法回滚 rollback 的

因为:一旦commit,这个事实就已经发生了,就不可能撤销回去了

一个事务发生了,是无法撤回的,只能再来一条补偿性的事务

将原来产生的恶果给你补偿回去

一个事情发生了,这就是铁一般的事实,这个流水在这呢,你不能将历史事实给去除



